<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="#">修改个人信息: {{formGroup.get('name')?.value}}</a></li>
  </ol>
</nav>

<body class="container">
<form style="margin-top: 20px" [formGroup]="formGroup">
  <div class="form-group row">
    <label class="col-sm-1 col-form-label"><code>*</code>姓名</label>
    <div class="col-sm-4">
      <input type="text" class="form-control" formControlName="name" style="width: 200px">
      <small class="text-danger" *ngIf="formGroup.get('name')?.invalid">
        长度应为2-25
      </small>
    </div>
  </div>
  <div class="form-group row ">
    <label class="col-sm-1 col-form-label"><code>*</code>性别</label>
    <div class="col-sm-10">
      <label><input type="radio" formControlName="sex" name="sex" [value]="0">男</label>
      &nbsp;&nbsp;
      <label><input type="radio" formControlName="sex" name="sex" [value]="1">女</label>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-1 col-form-label"><code>*</code>手机号</label>
    <div class="col-sm-4">
      <input type="string" class="form-control" formControlName="number" id="number"  style="width: 200px" appValidatorClass>
      <small class="text-danger" *ngIf="formGroup.get('number')?.errors">
        <ng-container *ngIf="formGroup.get('number')?.errors?.isPhoneNumber">手机号格式错误</ng-container>
        <ng-container *ngIf="formGroup.get('number')?.errors?.numberUnique === '名称已存在'">该手机号已存在</ng-container>
      </small>
    </div>
  </div>
  <div class="form-row">
  <label class="col-sm-1 col-form-label">旧密码</label>
    <div class="form-group col-md-3">
      <input type="password" autocomplete="on" class="form-control" id="password" formControlName="password" style="width: 200px" placeholder="旧密码">
      <small class="text-danger" *ngIf="formGroup.get('password')?.value && formGroup.get('password')?.invalid">
        长度应为4-40
      </small>
    </div>
  </div>
  <ng-container *ngIf="formGroup.get('password')?.value">
    <div class="form-row">
      <label class="col-sm-1 col-form-label">新密码</label>
      <div class="form-group col-md-3">
        <input type="password"  autocomplete="on" class="form-control" id="password1" formControlName="newPassword" style="width: 200px" placeholder="新密码">
        <small class="text-danger" *ngIf="formGroup.get('password')?.value && formGroup.get('newPassword')?.invalid || !formGroup.get('newPassword')?.value">
          长度应为4-40
        </small>
      </div>
    </div>
    <div class="form-row">
      <label class="col-sm-1 col-form-label">&nbsp;</label>
      <div class="form-group col-md-3">
        <input type="password"  autocomplete="on" class="form-control" id="password2" formControlName="newPasswordAgain" style="width: 200px" placeholder="确认密码">
        <small class="text-danger" *ngIf="formGroup.get('password')?.value && formGroup.get('newPasswordAgain')?.invalid  || !formGroup.get('newPasswordAgain')?.value">
          长度应为4-40
        </small>
      </div>
    </div>
  </ng-container>
  <div class="form-group row">
    <div class="col-sm-6 text-center">
      <button type="submit" class="btn btn-primary" (click)="onSubmit()" [disabled]="
      isDisabled()
    ">保存</button>
      <a class="btn btn-primary" [routerLink]="'/admin/personal'">返回</a>
    </div>
  </div>
</form>
</body>
